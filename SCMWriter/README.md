# 📝 텍스트 개인정보 비식별화 도구

텍스트 파일(.txt)에서 개인정보를 자동으로 가명처리하여 비식별화하는 Python 도구입니다.  
대화록, 회의록, 인터뷰 자료 등의 민감한 개인정보를 안전하게 처리할 수 있습니다.

---

## ✨ 주요 기능

### 🔒 **개인정보 비식별화**
- 이름, 조직명 등 사용자가 지정한 키워드를 **영문 대문자(A, B, C...)**로 자동 변환
- 원본 텍스트의 구조와 문맥은 완벽하게 보존

### 🔢 **숫자 정보 비식별화** (선택 가능)
- 금액, 날짜, 전화번호 등 숫자 정보를 **NUM_1, NUM_2...** 형태로 변환
- ⏰ **시간 패턴(HH:MM) 자동 보호**: `09:30`, `14:15` 등은 비식별화하지 않음

### 📊 **매핑 정보 제공**
- 원본 ↔ 가명 관계를 CSV 파일로 저장
- 필요시 역변환 가능

### 💬 **대화형 인터페이스**
- 명령줄 인자 없이 직관적인 대화형으로 사용
- 3단계 간단 입력만으로 완료

---

## 🚀 빠른 시작

### 1️⃣ 실행

```bash
python transform_text_to_csv.py
```

### 2️⃣ 대화형 입력

프로그램이 순서대로 3가지를 물어봅니다:

#### **STEP 1: 파일 경로 입력**
```
📁 비식별화할 파일의 경로와 파일명을 알려주세요
   (예시: C:/Users/sample.txt 또는 C:\Users\sample.txt)
>> D:\Documents\meeting.txt
```

#### **STEP 2: 비식별화 대상 입력**
```
🔒 비식별화할 개인정보를 작성해주세요
   (여러 개일 경우 쉼표(,)로 구분. 예: 김철수,이영희,박민수)
>> 김민수,이지혜,박철수
```

#### **STEP 3: 숫자 비식별화 선택**
```
🔢 숫자 정보도 비식별화하시겠습니까? (시간 패턴은 제외됩니다)
   (Y/N, 기본값: Y)
>> Y
```

### 3️⃣ 완료!

처리가 완료되면 다음 정보가 표시됩니다:

```
======================================================================
✅ 비식별화 완료!
======================================================================

📊 비식별화 요약:
   • 키워드 비식별화: 3개
   • 숫자 비식별화: 15개
   • 총 매핑 항목: 18개

📁 생성된 파일:
   • 비식별화된 텍스트: D:\Documents\meeting_anonymized_20241030_154500.txt
   • 매핑 정보 CSV: D:\Documents\20241030_154500.csv

💡 매핑 정보 CSV 파일을 확인하여 원본 ↔ 가명 관계를 파악할 수 있습니다.
```

---

## 📋 사용 예시

### 입력 파일 (meeting.txt)

```
회의록 - 프로젝트 킥오프

일시: 2024년 3월 15일 (14:30)
참석자: 김민수, 이지혜

(00:00)
김민수: 안녕하세요. 예산은 5,000만 원입니다.
이지혜: 네, 인원은 3명 필요합니다.

(05:20)
김민수: 제 연락처는 010-1234-5678입니다.
이지혜: 3월 20일까지 완료 예정입니다.
```

### 비식별화 대상 입력

```
>> 김민수,이지혜
```

### 출력 파일 (meeting_anonymized_20241030_154500.txt)

```
회의록 - 프로젝트 킥오프

일시: NUM_1년 NUM_2월 NUM_3일 (14:30)
참석자: A, B

(00:00)
A: 안녕하세요. 예산은 NUM_4만 원입니다.
B: 네, 인원은 NUM_2명 필요합니다.

(05:20)
A: 제 연락처는 NUM_5-NUM_6-NUM_7입니다.
B: NUM_2월 NUM_8일까지 완료 예정입니다.
```

### 매핑 정보 CSV (20241030_154500.csv)

| original | anonymized | type    | occurrences |
|----------|------------|---------|-------------|
| 김민수     | A          | keyword | 2           |
| 이지혜     | B          | keyword | 2           |
| 2024     | NUM_1      | numeric | 1           |
| 3        | NUM_2      | numeric | 3           |
| 15       | NUM_3      | numeric | 1           |
| 5,000    | NUM_4      | numeric | 1           |
| 010      | NUM_5      | numeric | 1           |
| 1234     | NUM_6      | numeric | 1           |
| 5678     | NUM_7      | numeric | 1           |
| 20       | NUM_8      | numeric | 1           |

---

## 🎯 특징

### ✅ **시간 패턴 보호**
- `(00:00)`, `(14:30)`, `09:15` 등 시간 형식은 자동으로 보호되어 비식별화되지 않습니다.
- 대화록의 타임스탬프를 유지하면서 다른 숫자만 처리합니다.

### ✅ **대소문자 무시**
- 기본적으로 대소문자를 구분하지 않습니다.
- "김민수", "KIM민수" 모두 동일하게 처리됩니다.

### ✅ **원본 구조 보존**
- 줄바꿈, 들여쓰기, 특수문자 등 모든 형식이 그대로 유지됩니다.
- 비식별화 대상만 가명으로 교체됩니다.

### ✅ **다중 파일 지원**
- 폴더 경로를 입력하면 하위의 모든 `.txt` 파일을 일괄 처리합니다.
- 매핑 정보는 하나의 CSV로 통합됩니다.

---

## 📂 출력 파일 규칙

### 비식별화된 텍스트 파일
- **파일명**: `<원본파일명>_anonymized_<타임스탬프>.txt`
- **위치**: 원본 파일과 같은 폴더
- **예시**: `meeting_anonymized_20241030_154500.txt`

### 매핑 정보 CSV 파일
- **파일명**: `<타임스탬프>.csv`
- **위치**: 원본 파일과 같은 폴더
- **예시**: `20241030_154500.csv`

### CSV 파일 구조
- `original`: 원본 단어 또는 숫자
- `anonymized`: 가명 처리된 값 (A, B, C... 또는 NUM_1, NUM_2...)
- `type`: `keyword` 또는 `numeric`
- `occurrences`: 원본 텍스트에서 등장한 횟수

---

## 🔧 시스템 요구사항

### Python 버전
- Python 3.6 이상

### 필요한 라이브러리
표준 라이브러리만 사용하므로 **별도 설치 불필요**:
- `csv`
- `re`
- `datetime`
- `pathlib`
- `typing`

---

## 💡 활용 사례

### 1️⃣ **연구 데이터 처리**
- 인터뷰 녹취록에서 참여자 이름 비식별화
- 개인정보 보호법 준수

### 2️⃣ **업무 문서 공유**
- 회의록, 보고서에서 민감 정보 제거
- 외부 공유용 문서 생성

### 3️⃣ **교육 자료 제작**
- 실제 사례 기반 교육 자료에서 개인정보 보호
- 케이스 스터디 자료 작성

### 4️⃣ **법적 문서 처리**
- 법률 상담 기록 비식별화
- 민감 정보 보호 후 분석

---

## ⚠️ 주의사항

### 완전한 비식별화가 아닙니다
- 이 도구는 **지정된 키워드와 숫자만** 처리합니다.
- 문맥상 유추 가능한 정보는 수동으로 확인이 필요합니다.
- 예: "서울대학교 재학생" → 학교명도 비식별화 대상에 포함해야 합니다.

### 백업 권장
- 원본 파일은 수정되지 않지만, 중요한 파일은 사전에 백업하세요.

### 이메일 주소
- 이메일 주소는 자동으로 비식별화되지 않습니다.
- 필요시 비식별화 대상에 직접 추가하세요.

---

## 🛠️ 문제 해결

### 파일을 찾을 수 없다는 오류
```
❌ 파일을 찾을 수 없습니다: D:\test.txt
```
**해결**: 
- 파일 경로와 파일명이 정확한지 확인하세요.
- Windows에서는 `\` 또는 `/` 모두 사용 가능합니다.

### 비식별화 대상이 처리되지 않음
```
⚠ 비식별화 대상: 0개
```
**해결**:
- 쉼표로 구분했는지 확인하세요.
- 공백은 자동으로 제거됩니다.

### 한글이 깨짐
**해결**:
- 파일이 UTF-8 인코딩으로 저장되어 있는지 확인하세요.
- 프로그램은 자동으로 UTF-8을 사용합니다.

---

## 📞 지원 및 문의

### 버전 정보
- **버전**: 2.0
- **최종 업데이트**: 2024년 10월
- **개발 언어**: Python 3

### 라이선스
이 프로젝트는 자유롭게 사용, 수정, 배포할 수 있습니다.

---

## 📚 추가 참고

### 개인정보 보호법 관련
- 이 도구는 개인정보 보호법상 "가명처리" 기능을 보조합니다.
- 완전한 익명화를 위해서는 추가 검토가 필요할 수 있습니다.

### 보안
- 처리된 매핑 정보(CSV)는 안전하게 보관하세요.
- 매핑 정보가 유출되면 재식별이 가능합니다.

---

## 🎉 시작하기

```bash
# 1. 프로그램 실행
python transform_text_to_csv.py

# 2. 화면 안내에 따라 입력
# 3. 완료!
```

**간단하고 안전한 개인정보 비식별화를 경험하세요!** 🚀

